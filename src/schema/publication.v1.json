{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://pathways-library.rmi.org/schema/publication.v1.json",
  "title": "Publication",
  "description": "Bibliographic information about the report or dataset.",
  "type": "object",
  "properties": {
    "title": {
      "description": "Title of the report or publication.",
      "$ref": "./common/label.v1.json",
      "tsType": "import('./common/label.v1').LabelV1"
    },
    "subtitle": {
      "description": "Optional subtitle of the publication.",
      "type": "string",
      "maxLength": 300
    },
    "author": {
      "description": "List of authors or contributors.",
      "type": "array",
      "items": { "type": "string", "maxLength": 100 },
      "uniqueItems": true
    },
    "publisher": {
      "description": "Publisher or organization responsible for the publication.",
      "$ref": "./common/label.v1.json",
      "tsType": "import('./common/label.v1').LabelV1"
    },
    "year": {
      "description": "Year of publication.",
      "type": "integer",
      "minimum": 1900,
      "maximum": 2100
    },
    "month": {
      "description": "Month of publication (1–12).",
      "type": "integer",
      "minimum": 1,
      "maximum": 12
    },
    "day": {
      "description": "Day of publication (1–31).",
      "type": "integer",
      "minimum": 1,
      "maximum": 31
    },
    "city": {
      "description": "City where the publication was published.",
      "type": "string",
      "maxLength": 100
    },
    "doi": {
      "description": "Digital Object Identifier for the publication.",
      "type": "string",
      "pattern": "^10\\.[^\\s/]+/.+$"
    },
    "isbn": {
      "description": "International Standard Book Number, if applicable.",
      "type": "string",
      "maxLength": 32
    },
    "issn": {
      "description": "International Standard Serial Number, if applicable.",
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{3}[0-9X]$"
    },
    "links": {
      "description": "Links to related materials such as data, supplementary files, or the full report.",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "description": {
            "description": "Short label for the linked resource.",
            "type": "string",
            "maxLength": 100
          },
          "url": {
            "description": "URL to the linked resource.",
            "type": "string",
            "pattern": "^(https?|ftp):\\/\\/[^\\s/$.?#].[^\\s]*$"
          }
        },
        "required": ["url"],
        "additionalProperties": false
      }
    }
  },
  "required": ["title", "publisher", "year"],
  "additionalProperties": false
}
