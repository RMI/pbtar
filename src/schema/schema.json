{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "pbtar_schema.json",
  "title": "PBTAR Scenarios metadata Schema",
  "description": "A schema for the scenarios metadata dataset in PBTAR.",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "id": {
        "description": "The unique identifier for a scenario.",
        "type": "string",
        "maxLength": 100
      },
      "name": {
        "description": "Name of the scenario.",
        "type": "string",
        "maxLength": 100
      },
      "description": {
        "description": "Brief description of the scenario.",
        "type": "string",
        "pattern": "\\.$",
        "maxLength": 100
      },
      "pathwayType": {
        "description": "Type of the scenario pathway.",
        "type": "string",
        "enum": ["Normative", "Exploratory", "Direct Policy", "Predictive"]
      },
      "modelYearNetzero": {
        "description": "Year by which net zero is reached in the scenario. If Scenario does not reach net zero, this field should be omitted.",
        "type": "integer",
        "minimum": 2030,
        "maximum": 2100
      },
      "carbonBudget": {
        "description": "Carbon budget of the scenario in gigatons of CO2 equivalent (GtCO2eq). If no carbon budget is defined, this field should be omitted. If the carbon budget is not applicable, it should be set to 0.",
        "type": "number",
        "minimum": 0
      },
      "modelYearStart": {
        "description": "Year from which the model starts.",
        "type": "integer",
        "minimum": 1900,
        "maximum": 2030
      },
      "modelYearEnd": {
        "description": "Year in which the model ends.",
        "type": "integer",
        "minimum": 2030,
        "maximum": 2100
      },
      "modelTempIncrease": {
        "description": "Modeled temperature increase expected by the scenario (in degrees Celsius).",
        "type": "number",
        "multipleOf": 0.1,
        "minimum": 0.5,
        "maximum": 3
      },
      "ssp": {
        "description": "Shared Socioeconomic Pathways (SSP) associated with the scenario.",
        "type": "string",
        "enum": ["SSP1", "SSP2", "SSP3", "SSP4", "SSP5"]
      },
      "regions": {
        "description": "Regions that the scenario covers.",
        "type": "array",
        "uniqueItems": true,
        "items": {
          "type": "string"
        }
      },
      "sectors": {
        "description": "Sectors that the scenario covers.",
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "enum": [
                "Land Use",
                "Agriculture",
                "Buildings",
                "Industry",
                "Steel",
                "Cement",
                "Chemicals",
                "Coal Mining",
                "Oil (Upstream)",
                "Gas (Upstream)",
                "Power",
                "Automotive",
                "Transport",
                "Road transport",
                "Aviation",
                "Rail",
                "Shipping",
                "Other"
              ]
            },
            "technologies": {
              "type": "array",
              "description": "Technologies applicable to this sector.",
              "items": {
                "type": "string",
                "enum": [
                  "Precision Agriculture",
                  "Agroforestry",
                  "Bioenergy Crops",
                  "Energy Efficiency",
                  "Smart Grids",
                  "Renewable Heating",
                  "Heat Pumps",
                  "Building Automation",
                  "Smart Appliances",
                  "Insulation",
                  "Carbon Capture and Storage",
                  "Electrification",
                  "Process Optimization",
                  "Hydrogen Use",
                  "Coal",
                  "Oil",
                  "Gas",
                  "Wind",
                  "Solar",
                  "Nuclear",
                  "Biomass",
                  "Hydro",
                  "Renewables",
                  "Electric Vehicles",
                  "Hydrogen Vehicles",
                  "Biofuels",
                  "Public Transport",
                  "Active Mobility",
                  "Aviation Efficiency",
                  "Maritime Efficiency",
                  "Other"
                ]
              }
            }
          },
          "required": ["name", "technologies"],
          "additionalProperties": false
        }
      },
      "publisher": {
        "description": "Publisher of the scenario.",
        "type": "string",
        "maxLength": 100
      },
      "publicationYear": {
        "description": "Year that the scenario was published.",
        "type": "integer",
        "minimum": 1900,
        "maximum": 2030
      },
      "overview": {
        "description": "Overview of the scenario.",
        "type": "string",
        "pattern": "\\.$",
        "maxLength": 1000
      },
      "expertRecommendation": {
        "description": "Expert recommendation for the scenario.",
        "type": "string",
        "pattern": "\\.$",
        "maxLength": 10000
      },
      "dataSource": {
        "description": "Data source for the scenario.",
        "type": "object",
        "properties": {
          "description": {
            "description": "Description of the data source.",
            "type": "string",
            "pattern": "\\.$",
            "maxLength": 1000
          },
          "url": {
            "description": "URL at which the data source can be accessed.",
            "type": "string",
            "pattern": "^(https?|ftp):\\/\\/[^\\s/$.?#].[^\\s]*$"
          },
          "downloadAvailable": {
            "description": "Flag indicating if the data source can be downloaded.",
            "type": "boolean"
          }
        },
        "additionalProperties": false,
        "required": ["description", "url", "downloadAvailable"]
      },
      "metric": {
        "type": "array",
        "uniqueItems": true,
        "items": {
          "description": "Metrics used in the pathway",
          "type": "string",
          "enum": [
            "Emissions Intensity",
            "Capacity",
            "Generation",
            "Technology Mix",
            "Absolute Emissions",
            "Carbon Price"
          ]
        }
      }
    },
    "additionalProperties": false,
    "required": [
      "id",
      "name",
      "description",
      "pathwayType",
      "regions",
      "sectors",
      "publisher",
      "publicationYear",
      "overview",
      "expertRecommendation",
      "dataSource",
      "metric"
    ]
  },
  "minItems": 1
}
