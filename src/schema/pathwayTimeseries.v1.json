{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://pathways-library.rmi.org/schema/pathwayTimeseries.v1.json",
  "title": "PBTAR Scenarios metadata Schema",
  "description": "A schema for the scenarios metadata dataset in PBTAR.",
  "type": "object",
  "properties": {
    "$schema": {
      "description": "URI of the schema that validates this document (see https://json-schema.org/).",
      "type": "string",
      "maxLength": 1000
    },
    "id": {
      "description": "The unique identifier for a scenario.",
      "type": "string",
      "maxLength": 100
    },
    "name": {
      "description": "Name of the scenario.",
      "type": "string",
      "maxLength": 100
    },
    "description": {
      "description": "Brief description of the scenario.",
      "type": "string",
      "pattern": "\\.$",
      "maxLength": 100
    },
    "publisher": {
      "description": "Publisher of the scenario.",
      "type": "string",
      "maxLength": 100
    },
    "publicationName": {
      "description": "Publisher of the scenario.",
      "type": "string",
      "maxLength": 100
    },
    "publicationYear": {
      "description": "Year that the scenario was published.",
      "type": "integer",
      "minimum": 1900,
      "maximum": 2030
    },
    "pathwayName": {
      "description": "TKTK",
      "type": "string",
      "maxLength": 100
    },
    "source": {
      "description": "TKTK",
      "type": "string",
      "maxLength": 500
    },
    "emissionsScope": {
      "description": "Defines which greenhouse gases are covered in the scenarioâ€™s emissions accounting.",
      "type": "string",
      "enum": [
        "No information",
        "CO2",
        "CO2e (Kyoto)",
        "CO2e (CO2, Methane)",
        "Other"
      ]
    },
    "sector": {
      "description": "TKTK",
      "type": "object",
      "patternProperties": {
        "^[A-Za-z0-9 _-]{1,100}$": {
          "type": "object",
          "properties": {
            "displayName": {
              "description": "TKTK",
              "type": "string",
              "enum": [
                "Land Use",
                "Agriculture",
                "Buildings",
                "Industry",
                "Steel",
                "Cement",
                "Chemicals",
                "Coal Mining",
                "Oil (Upstream)",
                "Gas (Upstream)",
                "Power",
                "Automotive",
                "Transport",
                "Road transport",
                "Aviation",
                "Rail",
                "Shipping",
                "Other"
              ]
            },
            "technology": {
              "description": "TKTK",
              "type": "object",
              "patternProperties": {
                "^[A-Za-z0-9 _-]{1,100}$": {
                  "type": "object",
                  "properties": {
                    "displayName": {
                      "description": "TKTK",
                      "type": "string",
                      "maxLength": 100
                    },
                    "definition": {
                      "description": "TKTK",
                      "type": "string",
                      "maxLength": 1000
                    }
                  },
                  "additionalProperties": false,
                  "required": ["displayName", "definition"]
                }
              },
              "additionalProperties": false,
              "minProperties": 1
            },
            "metric": {
              "description": "TKTK",
              "type": "object",
              "patternProperties": {
                "^[A-Za-z0-9 _-]{1,100}$": {
                  "type": "object",
                  "properties": {
                    "displayName": {
                      "description": "TKTK",
                      "type": "string",
                      "maxLength": 100
                    },
                    "definition": {
                      "description": "TKTK",
                      "type": "string",
                      "maxLength": 1000
                    },
                    "sectorScope": {
                      "description": "TKTK",
                      "type": "string",
                      "maxLength": 1000
                    }
                  },
                  "additionalProperties": false,
                  "required": ["displayName", "definition", "sectorScope"]
                }
              },
              "additionalProperties": false,
              "minProperties": 1
            }
          }
        }
      },
      "additionalProperties": false,
      "minProperties": 1
    },
    "data": {
      "description": "TKTK",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "year": {
            "description": "TKTK",
            "type": "integer",
            "minimum": 1900,
            "maximum": 2100
          },
          "geography": {
            "description": "Geographical areas that the scenario covers. Can include 'Global', country ISO-3166-1 alpha-2 codes (US, DE), or free-text region names (e.g., 'Europe', 'OECD'). Any 2-letter items in the array will be treated as an ISO code. Any 2-letter entries that do not map to a country will throw errors (EU). Do not use full country names, only ISO alpha-2 codes. To avoid typographical errors, items in this array may not be 3 letters long (USA)",
            "type": "string",
            "allOf": [
              { "pattern": "^(?!\\s*$).+" },
              { "not": { "pattern": "^[A-Za-z]{3}$" } }
            ]
          },
          "sector": {
            "description": "TKTK",
            "type": "string",
            "enum": [
              "Land Use",
              "Agriculture",
              "Buildings",
              "Industry",
              "Steel",
              "Cement",
              "Chemicals",
              "Coal Mining",
              "Oil (Upstream)",
              "Gas (Upstream)",
              "Power",
              "Automotive",
              "Transport",
              "Road transport",
              "Aviation",
              "Rail",
              "Shipping",
              "Other"
            ]
          },
          "technology": {
            "description": "TKTK",
            "type": ["string", "null"]
          },
          "metric": {
            "description": "TKTK",
            "type": "string"
          },
          "value": {
            "description": "TKTK",
            "type": ["number", "null"]
          },
          "unit": {
            "description": "TKTK",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "year",
          "value",
          "geography",
          "sector",
          "technology",
          "metric",
          "unit"
        ]
      }
    }
  },
  "additionalProperties": false,
  "required": [
    "id",
    "name",
    "description",
    "publisher",
    "publicationName",
    "publicationYear",
    "pathwayName",
    "source",
    "emissionsScope",
    "sector",
    "data"
  ]
}
